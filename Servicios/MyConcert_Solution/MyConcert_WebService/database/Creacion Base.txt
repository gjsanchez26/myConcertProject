CREATE TABLE ESTADOS
(
  PK_estados INT NOT NULL AUTO_INCREMENT,
  estado VARCHAR(50) NOT NULL,
  PRIMARY KEY (PK_estados),
  UNIQUE (estado)
);

CREATE TABLE PAISES
(
  PK_paises INT NOT NULL AUTO_INCREMENT,
  pais VARCHAR(50) NOT NULL,
  PRIMARY KEY (PK_paises),
  UNIQUE (pais)
);

CREATE TABLE UNIVERSIDADES
(
  PK_universidades INT NOT NULL AUTO_INCREMENT,
  nombreUni VARCHAR(150) NOT NULL,
  PRIMARY KEY (PK_universidades),
  UNIQUE (nombreUni)
);

CREATE TABLE TIPOSUSUARIOS
(
  PK_tiposUsuarios INT NOT NULL AUTO_INCREMENT,
  tipo VARCHAR(50) NOT NULL,
  PRIMARY KEY (PK_tiposUsuarios),
  UNIQUE (tipo)
);

CREATE TABLE BANDAS
(
  PK_bandas INT NOT NULL AUTO_INCREMENT,
  nombreBan VARCHAR(30) NOT NULL,
  FK_BANDAS_ESTADOS INT NOT NULL,
  PRIMARY KEY (PK_bandas),
  FOREIGN KEY (FK_BANDAS_ESTADOS) REFERENCES ESTADOS(PK_estados)
);

CREATE TABLE INTEGRANTES
(
  PK_integrantes INT NOT NULL AUTO_INCREMENT,
  nombreInt VARCHAR(30) NOT NULL,
  FK_INTEGRANTES_BANDAS INT NOT NULL,
  PRIMARY KEY (PK_integrantes),
  FOREIGN KEY (FK_INTEGRANTES_BANDAS) REFERENCES BANDAS(PK_bandas)
);

CREATE TABLE GENEROS
(
  PK_generos INT NOT NULL AUTO_INCREMENT,
  genero VARCHAR(50) NOT NULL,
  PRIMARY KEY (PK_generos),
  UNIQUE (genero)
);

CREATE TABLE GENEROSBANDA
(
  PK_generosBanda INT NOT NULL AUTO_INCREMENT,
  FK_GENEROSBANDA_BANDAS INT NOT NULL,
  FK_GENEROSBANDA_GENEROS INT NOT NULL,
  PRIMARY KEY (PK_generosBanda),
  FOREIGN KEY (FK_GENEROSBANDA_BANDAS) REFERENCES BANDAS(PK_bandas),
  FOREIGN KEY (FK_GENEROSBANDA_GENEROS) REFERENCES GENEROS(PK_generos)
);

CREATE TABLE CANCIONES
(
  PK_canciones INT NOT NULL AUTO_INCREMENT,
  cancion VARCHAR(100) NOT NULL,
  FK_CANCIONES_BANDAS INT NOT NULL,
  PRIMARY KEY (PK_canciones),
  FOREIGN KEY (FK_CANCIONES_BANDAS) REFERENCES BANDAS(PK_bandas)
);

CREATE TABLE CATEGORIAS
(
  PK_categorias INT NOT NULL AUTO_INCREMENT,
  categoria VARCHAR(100) NOT NULL,
  PRIMARY KEY (PK_categorias),
  UNIQUE (categoria)
);

CREATE TABLE TIPOSEVENTOS
(
  PK_tiposEventos INT NOT NULL AUTO_INCREMENT,
  tipo VARCHAR(100) NOT NULL,
  PRIMARY KEY (PK_tiposEventos),
  UNIQUE (tipo)
);

CREATE TABLE USUARIOS
(
  username VARCHAR(15) NOT NULL,
  nombre VARCHAR(30) NOT NULL,
  apellido VARCHAR(30) NOT NULL,
  contraseña VARCHAR(256) NOT NULL,
  correo VARCHAR(50) NOT NULL,
  fechaInscripcion DATETIME NOT NULL,
  foto varchar(100),
  fechaNacimiento DATE,
  telefono VARCHAR(30),
  ubicacion VARCHAR(100),
  descripcion VARCHAR(300),
  FK_USUARIOS_ESTADOS INT NOT NULL,
  FK_USUARIOS_PAISES INT,
  FK_USUARIOS_UNIVERSIDADES INT,
  FK_USUARIOS_TIPOSUSUARIOS INT NOT NULL,
  PRIMARY KEY (username),
  FOREIGN KEY (FK_USUARIOS_ESTADOS) REFERENCES ESTADOS(PK_estados),
  FOREIGN KEY (FK_USUARIOS_PAISES) REFERENCES PAISES(PK_paises),
  FOREIGN KEY (FK_USUARIOS_UNIVERSIDADES) REFERENCES UNIVERSIDADES(PK_universidades),
  FOREIGN KEY (FK_USUARIOS_TIPOSUSUARIOS) REFERENCES TIPOSUSUARIOS(PK_tiposUsuarios)
);

CREATE TABLE GENEROSUSUARIO
(
  PK_generosUsuario INT NOT NULL AUTO_INCREMENT,
  FK_GENEROSUSUARIO_GENEROS INT NOT NULL,
  FK_GENEROSUSUARIO_USUARIOS VARCHAR(15) NOT NULL,
  PRIMARY KEY (PK_generosUsuario),
  FOREIGN KEY (FK_GENEROSUSUARIO_GENEROS) REFERENCES GENEROS(PK_generos),
  FOREIGN KEY (FK_GENEROSUSUARIO_USUARIOS) REFERENCES USUARIOS(username)
);

CREATE TABLE COMENTARIOS
(
  PK_comentarios INT NOT NULL AUTO_INCREMENT,
  comentario VARCHAR(300) NOT NULL,
  calificacion FLOAT NOT NULL,
  fechaCreacion DATETIME NOT NULL,
  FK_COMENTARIOS_BANDAS INT NOT NULL,
  FK_COMENTARIOS_USUARIOS VARCHAR(15) NOT NULL,
  FK_COMENTARIOS_ESTADOS INT NOT NULL,
  PRIMARY KEY (PK_comentarios),
  FOREIGN KEY (FK_COMENTARIOS_BANDAS) REFERENCES BANDAS(PK_bandas),
  FOREIGN KEY (FK_COMENTARIOS_USUARIOS) REFERENCES USUARIOS(username),
  FOREIGN KEY (FK_COMENTARIOS_ESTADOS) REFERENCES ESTADOS(PK_estados)
);

CREATE TABLE EVENTOS
(
  PK_eventos INT NOT NULL AUTO_INCREMENT,
  nombreEve VARCHAR(30) NOT NULL,
  ubicacion VARCHAR(100) NOT NULL,
  fechaInicio DATETIME NOT NULL,
  fechaFinal DATETIME NOT NULL,
  finalVotacion DATETIME,
  comida VARCHAR(500),
  transporte VARCHAR(500),
  servicios VARCHAR(500),
  FK_EVENTOS_PAISES INT NOT NULL,
  FK_EVENTOS_ESTADOS INT NOT NULL,
  FK_EVENTOS_TIPOSEVENTOS INT NOT NULL,
  FK_EVENTOS_BANDAS_CHEF INT,
  PRIMARY KEY (PK_eventos),
  FOREIGN KEY (FK_EVENTOS_PAISES) REFERENCES PAISES(PK_paises),
  FOREIGN KEY (FK_EVENTOS_ESTADOS) REFERENCES ESTADOS(PK_estados),
  FOREIGN KEY (FK_EVENTOS_TIPOSEVENTOS) REFERENCES TIPOSEVENTOS(PK_tiposEventos),
  FOREIGN KEY (FK_EVENTOS_BANDAS_CHEF) REFERENCES BANDAS(PK_bandas)

);

CREATE TABLE CATEGORIASEVENTO
(
  PK_categoriasEvento INT NOT NULL AUTO_INCREMENT,
  FK_CATEGORIASEVENTO_EVENTOS INT NOT NULL,
  FK_CATEGORIASEVENTO_CATEGORIAS INT NOT NULL,
  FK_CATEGORIASEVENTO_BANDAS INT NOT NULL,
  PRIMARY KEY (PK_categoriasEvento),
  FOREIGN KEY (FK_CATEGORIASEVENTO_EVENTOS) REFERENCES EVENTOS(PK_eventos),
  FOREIGN KEY (FK_CATEGORIASEVENTO_CATEGORIAS) REFERENCES CATEGORIAS(PK_categorias),
  FOREIGN KEY (FK_CATEGORIASEVENTO_BANDAS) REFERENCES BANDAS(PK_bandas)
);

CREATE TABLE VOTOS
(
  PK_votos INT NOT NULL AUTO_INCREMENT,
  valor INT NOT NULL,
  FK_VOTOS_BANDAS INT NOT NULL,
  FK_VOTOS_EVENTOS INT NOT NULL,
  FK_VOTOS_CATEGORIAS INT NOT NULL,
  FK_VOTOS_USUARIOS VARCHAR(15) NOT NULL,
  PRIMARY KEY (PK_votos),
  FOREIGN KEY (FK_VOTOS_BANDAS) REFERENCES BANDAS(PK_bandas),
  FOREIGN KEY (FK_VOTOS_EVENTOS) REFERENCES EVENTOS(PK_eventos),
  FOREIGN KEY (FK_VOTOS_CATEGORIAS) REFERENCES CATEGORIAS(PK_categorias),
  FOREIGN KEY (FK_VOTOS_USUARIOS) REFERENCES USUARIOS(username)
);
